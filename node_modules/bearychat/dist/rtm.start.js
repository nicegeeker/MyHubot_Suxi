'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = rtmStart;

var _isomorphicFetch = require('isomorphic-fetch');

var _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);

var _api = require('./api');

var _validate = require('./_validate');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function rtmStart(payload) {
  return new Promise(function (resolve, reject) {
    var err = (0, _validate.validate)('POST', '/rtm.start', payload);
    if (err) {
      reject(err);
      return;
    }

    var opts = {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json'
      },
      method: 'POST',
      body: JSON.stringify(payload)
    };

    /* eslint-disable */
    var api = (0, _api.getBasePath)('https://api.bearychat.com/v1') + '/rtm.start';
    /* eslint-enable */
    (0, _isomorphicFetch2.default)(api, opts).then(resolve).catch(reject);
  });
} // Generated by ./scripts/generate-api with OpenAPI@1.0.0
// for full api documentation, visit https://github.com/bearyinnovative/OpenAPI
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9ydG0uc3RhcnQuanMiXSwibmFtZXMiOlsicnRtU3RhcnQiLCJwYXlsb2FkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnIiLCJvcHRzIiwiaGVhZGVycyIsIkFjY2VwdCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXBpIiwidGhlbiIsImNhdGNoIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFNd0JBLFE7O0FBSnhCOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFFZSxTQUFTQSxRQUFULENBQWtCQyxPQUFsQixFQUEyQjtBQUN4QyxTQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdEMsUUFBTUMsTUFBTSx3QkFBUyxNQUFULEVBQWlCLFlBQWpCLEVBQStCSixPQUEvQixDQUFaO0FBQ0EsUUFBSUksR0FBSixFQUFTO0FBQ1BELGFBQU9DLEdBQVA7QUFDQTtBQUNEOztBQUVELFFBQU1DLE9BQU87QUFDWEMsZUFBUztBQUNQQyxnQkFBUSxrQkFERDtBQUVQLHdCQUFnQjtBQUZULE9BREU7QUFLWEMsY0FBUSxNQUxHO0FBTVhDLFlBQU1DLEtBQUtDLFNBQUwsQ0FBZVgsT0FBZjtBQU5LLEtBQWI7O0FBU0E7QUFDQSxRQUFNWSxNQUFNLHNCQUFZLDhCQUFaLElBQThDLFlBQTFEO0FBQ0E7QUFDQSxtQ0FBTUEsR0FBTixFQUFXUCxJQUFYLEVBQWlCUSxJQUFqQixDQUFzQlgsT0FBdEIsRUFBK0JZLEtBQS9CLENBQXFDWCxNQUFyQztBQUNELEdBcEJNLENBQVA7QUFxQkQsQyxDQTVCRDtBQUNBIiwiZmlsZSI6InJ0bS5zdGFydC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSAuL3NjcmlwdHMvZ2VuZXJhdGUtYXBpIHdpdGggT3BlbkFQSUAxLjAuMFxuLy8gZm9yIGZ1bGwgYXBpIGRvY3VtZW50YXRpb24sIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWFyeWlubm92YXRpdmUvT3BlbkFQSVxuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtZmV0Y2gnO1xuaW1wb3J0IHsgZ2V0QmFzZVBhdGggfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyB2YWxpZGF0ZSB9IGZyb20gJy4vX3ZhbGlkYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcnRtU3RhcnQocGF5bG9hZCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGVyciA9IHZhbGlkYXRlKCdQT1NUJywgJy9ydG0uc3RhcnQnLCBwYXlsb2FkKTtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgIH07XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIGNvbnN0IGFwaSA9IGdldEJhc2VQYXRoKCdodHRwczovL2FwaS5iZWFyeWNoYXQuY29tL3YxJykgKyAnL3J0bS5zdGFydCc7XG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIGZldGNoKGFwaSwgb3B0cykudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICB9KTtcbn1cbiJdfQ==